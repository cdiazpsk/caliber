# AGENTS.md

Guidance for AI coding agents working in this repository.

## Current state
- This repo is currently **documentation-first** and does not yet contain production iOS or web app code.
- Keep changes minimal, additive, and consistent with the planned monorepo layout below.

## Planned project structure (target)

```text
/apps
  /ios        # Xcode project/workspace (SwiftUI app)
  /web        # Next.js App Router app
/supabase     # migrations, seed data, RLS policies
/docs         # architecture, access control, and process docs
```

## Local development (when apps exist)

### iOS (`/apps/ios`)
- Open in Xcode: `open apps/ios/*.xcodeproj` (or `.xcworkspace` if used).
- CLI build example: `xcodebuild -project apps/ios/<Project>.xcodeproj -scheme <Scheme> -destination 'platform=iOS Simulator,name=iPhone 15' build`
- CLI test example: `xcodebuild test -project apps/ios/<Project>.xcodeproj -scheme <Scheme> -destination 'platform=iOS Simulator,name=iPhone 15'`

### Web (`/apps/web`)
- Install: `pnpm install` (or `npm install` if project standard changes).
- Run dev server: `pnpm dev`
- Build: `pnpm build`
- Lint: `pnpm lint`
- Test: `pnpm test`

### Supabase (`/supabase`)
- Start local stack: `supabase start`
- Apply migrations: `supabase db reset`
- Generate types (if used by web/iOS tooling): `supabase gen types typescript --local`

## Environment variables
- Web app env vars should live in: `/apps/web/.env.local` (never commit).
- Shared templates should live in committed examples such as:
  - `/apps/web/.env.example`
  - `/apps/ios/Config/Secrets.example.xcconfig`
- Supabase local config lives under `/supabase` as generated by Supabase CLI.

## Testing & linting expectations
- Run tests/lint only for areas you changed.
- Prefer targeted commands first, then broader checks if available.
- Keep CI-oriented commands deterministic and non-interactive.

## What not to touch
- Never commit secrets, tokens, private keys, certificates, or provisioning profiles.
- Do not edit real `.env*` files with live credentials.
- Do not rotate/delete existing secret material unless explicitly asked.
- Avoid rewriting repository history.

## Contribution style
- Keep PRs small and focused.
- Update `/docs` when architecture, access control, or workflows change.
- If code is missing for a requested area, add scaffolding/docs stubs rather than speculative large implementations.
